{"version":3,"file":"js/app.677ba513.js","mappings":"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","sources":["webpack://animal-classification/./src/App.vue","webpack://animal-classification/./src/App.vue?7ccd","webpack://animal-classification/./src/main.js","webpack://animal-classification/webpack/bootstrap","webpack://animal-classification/webpack/runtime/chunk loaded","webpack://animal-classification/webpack/runtime/compat get default export","webpack://animal-classification/webpack/runtime/define property getters","webpack://animal-classification/webpack/runtime/global","webpack://animal-classification/webpack/runtime/hasOwnProperty shorthand","webpack://animal-classification/webpack/runtime/jsonp chunk loading","webpack://animal-classification/webpack/startup"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <h1>HITL Animal Classification Interface</h1>\n    <div class=\"image-container\">\n      <div\n        v-for=\"(image, index) in images\"\n        :key=\"index\"\n        @click=\"userSelectsCorrectImage(index)\"\n        :class=\"{ clickable: guessedIndex !== null }\"\n      >\n        <img :src=\"image.url\" :class=\"{ guessed: guessedIndex === index }\" />\n      </div>\n    </div>\n    <div class=\"categories\">\n      <button\n        v-for=\"(category, index) in categories\"\n        :key=\"index\"\n        class=\"category\"\n        :class=\"{ selected: selectedCategoryIndex === index }\"\n        @click=\"selectCategory(index)\"\n      >\n        {{ category }}\n      </button>\n    </div>\n    <div v-if=\"showUserPrompt\" class=\"user-prompt\">\n      Please select the image you had in mind.\n    </div>\n\n    <div class=\"actions\">\n      <button class=\"save-model\" @click=\"saveModelWeights\">\n        Save Model Weights\n      </button>\n      <button class=\"reset-model\" @click=\"resetModel\">Reset Model</button>\n      <button class=\"use-trained-model\" @click=\"useTrainedModel\">\n        Use Trained Model\n      </button>\n    </div>\n    <div class=\"model-info\" style=\"margin-top: 10px; text-align: center\">\n      <p v-if=\"guessedIndex !== null\">\n        Model guessed with {{ guessedCertaintyFormatted }} certainty.\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nconst backendUrl =\n  process.env.NODE_ENV === \"production\"\n    ? process.env.VUE_APP_BACKEND_URL_PRODUCTION\n    : process.env.VUE_APP_BACKEND_URL;\nconsole.log(\"Using backend URL:\", backendUrl);\n\nexport default {\n  data() {\n    return {\n      showUserPrompt: false,\n      images: [],\n      categories: [\n        \"Mammal\",\n        \"Bird\",\n        \"Reptile\",\n        \"Fish\",\n        \"Amphibian\",\n        \"Insect\",\n        \"Invertebrate\",\n      ],\n      iterationCount: 0,\n      maxIterations: 50,\n      guessedIndex: null,\n      allowUserSelection: false,\n      availableImages: [],\n      guessedCertainty: 0,\n      selectedCategoryIndex: null,\n      guessedCertaintyFormatted: \"0%\",\n    };\n  },\n  mounted() {\n    this.loadZooDataset();\n  },\n  methods: {\n    resetModel() {\n      fetch(`${backendUrl}/reset_model`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n      })\n        .then((response) => {\n          if (!response.ok) {\n            throw new Error(\"Network response was not ok\");\n          }\n          return response.json();\n        })\n        .then((data) => {\n          console.log(\"Received response from /reset_model:\", data);\n          alert(data.message);\n          this.iterationCount = 0;\n          this.loadNewImages();\n        })\n        .catch((error) => {\n          console.error(\"Error during /reset_model request:\", error);\n        });\n    },\n    useTrainedModel() {\n      fetch(`${backendUrl}/use_trained_model`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n      })\n        .then((response) => {\n          if (!response.ok) {\n            throw new Error(\"Network response was not ok\");\n          }\n          return response.json();\n        })\n        .then((data) => {\n          console.log(\"Received response from /use_trained_model:\", data);\n          alert(data.message);\n          this.iterationCount = 0;\n          this.loadNewImages();\n        })\n        .catch((error) => {\n          console.error(\"Error during /use_trained_model request:\", error);\n        });\n    },\n    userSelectsCorrectImage(index) {\n      if (this.showUserPrompt) {\n        this.showUserPrompt = false;\n      }\n      if (this.allowUserSelection) {\n        console.log(\"User selected the correct image:\", this.images[index]);\n        const correctImage = this.images[index];\n        const selectedCategory = this.categories[this.selectedCategoryIndex];\n        const feedbackData = {\n          correct_image: {\n            name: correctImage.name,\n            attributes: correctImage.attributes,\n            category: selectedCategory,\n          },\n        };\n        console.log(\n          \"Sending feedback to backend:\",\n          JSON.stringify(feedbackData)\n        );\n        fetch(`${backendUrl}/train`, {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify(feedbackData),\n        })\n          .then((response) => {\n            if (!response.ok) {\n              throw new Error(\"Network response was not ok\");\n            }\n            return response.json();\n          })\n          .then((data) => {\n            console.log(\"Received response from /train:\", data);\n            this.allowUserSelection = false;\n            this.loadNewImages();\n          })\n          .catch((error) => {\n            console.error(\"Error during /train request:\", error);\n          });\n      }\n    },\n    loadZooDataset() {\n      fetch(\"/zoo_dataset.json\")\n        .then((response) => {\n          if (!response.ok) {\n            throw new Error(\"Failed to fetch zoo dataset\");\n          }\n          return response.json();\n        })\n        .then((data) => {\n          console.log(\"Received response from /zoo_dataset:\", data);\n          this.availableImages = data.map((item) => {\n            return {\n              name: item.animal_name,\n              type: item.type, // Keep track of the animal type to ensure unique categories\n              url: `/animal_images/${item.animal_name}.jpg`,\n              attributes: Object.values(item).slice(1, -1), // Exclude 'animal_name' (first) and 'animal_type' (last)\n            };\n          });\n          this.loadNewImages();\n        })\n        .catch((error) => {\n          console.error(\"Error loading zoo dataset:\", error);\n        });\n    },\n    selectCategory(index) {\n      this.selectedCategoryIndex = index;\n      if (this.iterationCount < this.maxIterations) {\n        const selectedImages = this.images.map((image) => ({\n          name: image.name,\n          attributes: image.attributes,\n        }));\n\n        fetch(`${backendUrl}/predict`, {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({\n            selected_images: selectedImages,\n            selected_category: this.categories[this.selectedCategoryIndex],\n          }),\n        })\n          .then((response) => {\n            if (!response.ok) {\n              throw new Error(\"Network response was not ok\");\n            }\n            return response.json();\n          })\n          .then((data) => {\n            console.log(\"Received response from /predict:\", data);\n            this.iterationCount++;\n            this.guessedIndex = data.guessed_index;\n            this.allowUserSelection = true;\n            setTimeout(() => {\n              this.showUserPrompt = true;\n            }, 1000);\n            this.guessedCertainty = data.certainty_percentage;\n            this.guessedCertaintyFormatted = `${this.guessedCertainty.toFixed(\n              2\n            )}%`;\n          })\n          .catch((error) => {\n            console.error(\"Error during /predict request:\", error);\n          });\n      } else {\n        alert(\"Maximum number of iterations reached.\");\n      }\n    },\n    loadNewImages() {\n      this.showUserPrompt = false;\n      this.selectedCategoryIndex = null;\n      const selectedImages = [];\n      const selectedCategories = new Set();\n      while (selectedImages.length < 3 && this.availableImages.length > 0) {\n        const randomIndex = Math.floor(\n          Math.random() * this.availableImages.length\n        );\n        const randomImage = this.availableImages[randomIndex];\n        if (!selectedCategories.has(randomImage.type)) {\n          selectedImages.push(randomImage);\n          selectedCategories.add(randomImage.type);\n        }\n      }\n\n      this.images = selectedImages;\n      this.guessedIndex = null;\n      this.images.forEach((image) => {\n        console.log(\n          \"Loaded image:\",\n          image.name,\n          \"| Type:\",\n          this.categories[image.type - 1]\n        );\n      });\n    },\n    saveModelWeights() {\n      const currentDateTime = new Date().toISOString().replace(/[:.]/g, \"-\");\n      const weightsPath = `/weights/model_weights_${currentDateTime}.pth`;\n      fetch(`${backendUrl}/save_model_weights?weights_path=${weightsPath}`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n      })\n        .then((response) => {\n          if (!response.ok) {\n            throw new Error(\"Network response was not ok\");\n          }\n          return response.json();\n        })\n        .then((data) => {\n          console.log(\"Received response from /save_model_weights:\", data);\n          alert(data.message);\n          this.iterationCount = 0;\n          this.loadNewImages();\n        })\n        .catch((error) => {\n          console.error(\"Error during /save_model_weights request:\", error);\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\nbody {\n  font-family: Arial, sans-serif;\n  padding: 20px;\n  background-color: #f0a15f;\n}\n.image-container {\n  display: flex;\n  justify-content: space-around;\n  margin-bottom: 20px;\n  padding: 10px;\n  background-color: #f0a15f;\n  border-radius: 8px;\n}\n.image-container img {\n  width: 200px;\n  height: 200px;\n  object-fit: cover;\n  border: 5px solid transparent;\n  transition: border 0.3s ease;\n}\n.image-container img.guessed {\n  border-color: red;\n}\n.categories {\n  display: flex;\n  justify-content: space-around;\n  margin-top: 20px;\n  padding: 10px;\n  background-color: #f0a15f;\n  border-radius: 8px;\n}\n.category {\n  background-color: #ffffff;\n  border: 1px solid #000;\n  padding: 10px 20px;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n}\n.category.selected {\n  background-color: #ffcc00;\n}\n.actions {\n  display: flex;\n  justify-content: center;\n  margin-top: 20px;\n}\n.save-model {\n  background-color: #ffffff;\n  border: 1px solid #000;\n  padding: 10px 20px;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n}\n.save-model:hover {\n  background-color: #ddd;\n}\n.reset-model {\n  background-color: #ffffff;\n  border: 1px solid #000;\n  padding: 10px 20px;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n  margin-left: 10px;\n}\n.reset-model:hover {\n  background-color: #ddd;\n}\n.use-trained-model {\n  background-color: #ffffff;\n  border: 1px solid #000;\n  padding: 10px 20px;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n  margin-left: 10px;\n}\n.use-trained-model:hover {\n  background-color: #ddd;\n}\n.model-info {\n  margin-top: 20px;\n  padding: 10px;\n  background-color: #ffffff;\n  border-radius: 8px;\n}\n.user-prompt {\n  position: absolute;\n  top: 10%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  max-width: 400px;\n  padding: 15px;\n  background-color: #f8d7da;\n  color: #721c24;\n  border: 1px solid #f5c6cb;\n  border-radius: 8px;\n  text-align: center;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=3cf97937&scoped=true\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=3cf97937&scoped=true&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3cf97937\"]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkanimal_classification\"] = self[\"webpackChunkanimal_classification\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(7973); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["id","class","key","style","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_Fragment","_renderList","$data","images","image","index","onClick","$event","$options","userSelectsCorrectImage","_normalizeClass","clickable","guessedIndex","src","url","guessed","_hoisted_4","_hoisted_3","_hoisted_5","categories","category","selected","selectedCategoryIndex","selectCategory","_hoisted_6","showUserPrompt","_hoisted_7","_createCommentVNode","_hoisted_8","_cache","args","saveModelWeights","resetModel","useTrainedModel","_hoisted_9","_hoisted_10","_toDisplayString","guessedCertaintyFormatted","backendUrl","process","VUE_APP_BACKEND_URL_PRODUCTION","console","log","data","iterationCount","maxIterations","allowUserSelection","availableImages","guessedCertainty","mounted","this","loadZooDataset","methods","fetch","method","headers","then","response","ok","Error","json","alert","message","loadNewImages","catch","error","correctImage","selectedCategory","feedbackData","correct_image","name","attributes","JSON","stringify","body","map","item","animal_name","type","Object","values","slice","selectedImages","selected_images","selected_category","guessed_index","setTimeout","certainty_percentage","toFixed","selectedCategories","Set","length","randomIndex","Math","floor","random","randomImage","has","push","add","forEach","currentDateTime","Date","toISOString","replace","weightsPath","__exports__","render","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","keys","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","e","window","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}